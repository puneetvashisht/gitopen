webpackJsonp([3],{394:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=r(387),a=r(22),c=r(395),u=r(454),l=r(456),p=r(396),h=r(397),f=r(398),d=r(458),y=function(){function SurveyModule(){}return SurveyModule}();y=n([i.NgModule({imports:[d.routing,s.FormsModule,a.CommonModule],providers:[p.SurveyHttpService,h.SurveyService,f.SocketService],declarations:[c.ItemComponent,u.NewSurveyComponent,l.ListComponent]}),o("design:paramtypes",[])],y),e.SurveyModule=y},395:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=r(396),a=r(397),c=r(398),u=function(){function ItemComponent(t,e,r){this.surveyHttpService=t,this.surveyService=e,this.socketService=r,this.poll=null,console.log(this.surveyService),this.poll=this.surveyService.survey}return ItemComponent.prototype.ngOnInit=function(){var t=this;this.connection=this.socketService.getNewVote().subscribe(function(e){console.log(e),t.poll=e})},ItemComponent.prototype.ngOnDestroy=function(){this.connection.unsubscribe()},ItemComponent.prototype.onVote=function(){if(this.poll.userVote){var t={poll_id:this.poll._id,choice:this.poll.userVote};console.log(t),this.socketService.sendVote(t)}else alert("You must select an option to vote for")},ItemComponent}();u=n([i.Component({template:r(453)}),o("design:paramtypes",[s.SurveyHttpService,a.SurveyService,c.SocketService])],u),e.ItemComponent=u},396:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=r(24);r(84);var a=r(84),c=function(){function SurveyHttpService(t){this.http=t}return SurveyHttpService.prototype.item=function(t){return console.log(t),this.http.post("/poll",t).map(function(t){return console.log(t.json()),t.json()})},SurveyHttpService.prototype.newSurvey=function(t){return console.log(t),this.http.post("/polls",t).map(function(t){return t.json()})},SurveyHttpService.prototype.getSurveyList=function(){return this.http.get("/polls/polls").map(function(t){return t.json()})},SurveyHttpService.prototype.getSurveyItem=function(t){return this.http.get("/polls/"+t).map(function(t){return t.json()})},SurveyHttpService.prototype.handleError=function(t){return console.log(t),a.Observable.throw(t.json())},SurveyHttpService}();c=n([i.Injectable(),o("design:paramtypes",[s.Http])],c),e.SurveyHttpService=c},397:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=function(){function SurveyService(){this.survey=null}return SurveyService}();s=n([i.Injectable(),o("design:paramtypes",[])],s),e.SurveyService=s},398:function(t,e,r){"use strict";var n=r(5),o=r(399),i=function(){function SocketService(){this.url="http://192.168.43.253:4000",this.socket=o(this.url),console.log(this.socket)}return SocketService.prototype.sendMessage=function(t){this.socket.emit("add-message",t)},SocketService.prototype.getMessages=function(){var t=this,e=new n.Observable(function(e){return t.socket=o(t.url),t.socket.on("message",function(t){e.next(t)}),function(){t.socket.disconnect()}});return e},SocketService.prototype.getNewVote=function(){var t=this,e=new n.Observable(function(e){return t.socket=o(t.url),t.socket.on("vote",function(t){e.next(t)}),function(){t.socket.disconnect()}});return e},SocketService.prototype.sendVote=function(t){console.log(t),this.socket.emit("send:vote",t)},SocketService}();e.SocketService=i},399:function(t,e,r){function lookup(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o=n(t),c=o.source,u=o.id,l=o.path,p=a[u]&&l in a[u].nsps,h=e.forceNew||e["force new connection"]||!1===e.multiplex||p;return h?(s("ignoring socket cache for %s",c),r=i(c,e)):(a[u]||(s("new io instance for %s",c),a[u]=i(c,e)),r=a[u]),o.query&&!e.query?e.query=o.query:e&&"object"==typeof e.query&&(e.query=encodeQueryString(e.query)),r.socket(o.path,e)}function encodeQueryString(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}var n=r(400),o=r(405),i=r(416),s=r(402)("socket.io-client");t.exports=e=lookup;var a=e.managers={};e.protocol=o.protocol,e.connect=lookup,e.Manager=r(416),e.Socket=r(447)},400:function(t,e,r){(function(e){function url(t,r){var i=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof r?r.protocol+"//"+t:"https://"+t),o("parse %s",t),i=n(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var s=i.host.indexOf(":")!==-1,a=s?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(r&&r.port===i.port?"":":"+i.port),i}var n=r(401),o=r(402)("socket.io-client:url");t.exports=url}).call(e,function(){return this}())},401:function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[n[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},402:[972,403],403:[973,404],404:function(t,e){function parse(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(t){return t>=i?Math.round(t/i)+"d":t>=o?Math.round(t/o)+"h":t>=n?Math.round(t/n)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function fmtLong(t){return plural(t,i,"day")||plural(t,o,"hour")||plural(t,n,"minute")||plural(t,r,"second")||t+" ms"}function plural(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var r=1e3,n=60*r,o=60*n,i=24*o,s=365.25*i;t.exports=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return parse(t);if("number"===r&&isNaN(t)===!1)return e.long?fmtLong(t):fmtShort(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},405:function(t,e,r){function Encoder(){}function encodeAsString(t){var r="",i=!1;return r+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(r+=t.attachments,r+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,r+=t.nsp),null!=t.id&&(i&&(r+=",",i=!1),r+=t.id),null!=t.data&&(i&&(r+=","),r+=o.stringify(t.data)),n("encoded %j as %s",t,r),r}function encodeAsBinary(t,e){function writeEncoding(t){var r=s.deconstructPacket(t),n=encodeAsString(r.packet),o=r.buffers;o.unshift(n),e(o)}s.removeBlobs(t,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(t){var r={},o=0;if(r.type=Number(t.charAt(0)),null==e.types[r.type])return error();if(e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type){for(var i="";"-"!=t.charAt(++o)&&(i+=t.charAt(o),o!=t.length););if(i!=Number(i)||"-"!=t.charAt(o))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"==t.charAt(o+1))for(r.nsp="";++o;){var s=t.charAt(o);if(","==s)break;if(r.nsp+=s,o==t.length)break}else r.nsp="/";var a=t.charAt(o+1);if(""!==a&&Number(a)==a){for(r.id="";++o;){var s=t.charAt(o);if(null==s||Number(s)!=s){--o;break}if(r.id+=t.charAt(o),o==t.length)break}r.id=Number(r.id)}return t.charAt(++o)&&(r=tryParse(r,t.substr(o))),n("decoded %s as %j",t,r),r}function tryParse(t,e){try{t.data=o.parse(e)}catch(t){return error()}return t}function BinaryReconstructor(t){this.reconPack=t,this.buffers=[]}function error(t){return{type:e.ERROR,data:"parser error"}}var n=r(406)("socket.io-parser"),o=r(409),i=r(412),s=r(413),a=r(415);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=Encoder,e.Decoder=Decoder,Encoder.prototype.encode=function(t,r){if(n("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)encodeAsBinary(t,r);else{var o=encodeAsString(t);r([o])}},i(Decoder.prototype),Decoder.prototype.add=function(t){var r;if("string"==typeof t)r=decodeString(t),e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type?(this.reconstructor=new BinaryReconstructor(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit("decoded",r))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},406:function(t,e,r){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function load(){var t;try{t=e.storage.debug}catch(t){}return t}function localstorage(){try{return window.localStorage}catch(t){}}e=t.exports=r(407),e.log=log,e.formatArgs=formatArgs,e.save=save,e.load=load,e.useColors=useColors,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(load())},407:function(t,e,r){function selectColor(){return e.colors[o++%e.colors.length]}function debug(t){function disabled(){}function enabled(){var t=enabled,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=selectColor());var i=Array.prototype.slice.call(arguments);i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;s++;var o=e.formatters[n];if("function"==typeof o){var a=i[s];r=o.call(t,a),i.splice(s,1),s--}return r}),"function"==typeof e.formatArgs&&(i=e.formatArgs.apply(t,i));var a=enabled.log||e.log||console.log.bind(console);a.apply(t,i)}disabled.enabled=!1,enabled.enabled=!0;var r=e.enabled(t)?enabled:disabled;return r.namespace=t,r}function enable(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function disable(){e.enable("")}function enabled(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function coerce(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=debug,e.coerce=coerce,e.disable=disable,e.enable=enable,e.enabled=enabled,e.humanize=r(408),e.names=[],e.skips=[],e.formatters={};var n,o=0},408:function(t,e){function parse(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a}}}}function short(t){return t>=i?Math.round(t/i)+"d":t>=o?Math.round(t/o)+"h":t>=n?Math.round(t/n)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function long(t){return plural(t,i,"day")||plural(t,o,"hour")||plural(t,n,"minute")||plural(t,r,"second")||t+" ms"}function plural(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var r=1e3,n=60*r,o=60*n,i=24*o,s=365.25*i;t.exports=function(t,e){return e=e||{},"string"==typeof t?parse(t):e.long?long(t):short(t)}},409:function(t,e,r){var n;(function(t,o){(function(){function runInContext(t,e){function has(t){if(has[t]!==d)return has[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=has("json-stringify")&&has("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&v;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new r)&&'""'==c(new n)&&c(g)===d&&c(d)===d&&c()===d&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([d])&&"null"==c(null)&&"[null,null,null]"==c([d,g,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new i(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new i(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new i(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new i(-1))}catch(t){u=!1}}o=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(a);var p=5==s.a.length&&1===s.a[0];if(p){try{p=!l('"\t"')}catch(t){}if(p)try{p=1!==l("01")}catch(t){}if(p)try{p=1!==l("1.")}catch(t){}}}}catch(t){p=!1}o=p}}return has[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var r=t.Number||c.Number,n=t.String||c.String,o=t.Object||c.Object,i=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,l=t.Math||c.Math,p=t.JSON||c.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var h,f,d,y=o.prototype,g=y.toString,v=new i(-0xc782b5b800cec);try{v=v.getUTCFullYear()==-109252&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}if(!has("json")){var m="[object Function]",b="[object Date]",k="[object Number]",S="[object String]",w="[object Array]",C="[object Boolean]",x=has("bug-string-char-index");if(!v)var A=l.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(t,e){return B[e]+365*(t-1970)+A((t-1969+(e=+(e>1)))/4)-A((t-1901+e)/100)+A((t-1601+e)/400)};if((h=y.hasOwnProperty)||(h=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=g?h=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,h=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,h.call(this,t)}),f=function(t,e){var r,n,o,i=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)h.call(n,o)&&i++;return r=n=null,i?f=2==i?function(t,e){var r,n={},o=g.call(t)==m;for(r in t)o&&"prototype"==r||h.call(n,r)||!(n[r]=1)||!h.call(t,r)||e(r)}:function(t,e){var r,n,o=g.call(t)==m;for(r in t)o&&"prototype"==r||!h.call(t,r)||(n="constructor"===r)||e(r);(n||h.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(t,e){var r,o,i=g.call(t)==m,a=!i&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(r in t)i&&"prototype"==r||!a.call(t,r)||e(r);for(o=n.length;r=n[--o];a.call(t,r)&&e(r));}),f(t,e)},!has("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_="000000",P=function(t,e){return(_+(e||0)).slice(-t)},O="\\u00",T=function(t){for(var e='"',r=0,n=t.length,o=!x||n>10,i=o&&(x?t.split(""):t);r<n;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=E[s];break;default:if(s<32){e+=O+P(2,s.toString(16));break}e+=o?i[r]:t.charAt(r)}}return e+'"'},j=function(t,e,r,n,o,i,s){var a,c,l,p,y,v,m,x,B,E,_,O,N,M,q,D;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if(c=g.call(a),c!=b||h.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=k&&c!=S&&c!=w||h.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(R){for(y=A(a/864e5),l=A(y/365.2425)+1970-1;R(l+1,0)<=y;l++);for(p=A((y-R(l,0))/30.42);R(l,p+1)<=y;p++);y=1+y-R(l,p),v=(a%864e5+864e5)%864e5,m=A(v/36e5)%24,x=A(v/6e4)%60,B=A(v/1e3)%60,E=v%1e3}else l=a.getUTCFullYear(),p=a.getUTCMonth(),y=a.getUTCDate(),m=a.getUTCHours(),x=a.getUTCMinutes(),B=a.getUTCSeconds(),E=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+P(6,l<0?-l:l):P(4,l))+"-"+P(2,p+1)+"-"+P(2,y)+"T"+P(2,m)+":"+P(2,x)+":"+P(2,B)+"."+P(3,E)+"Z"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return"null";if(c=g.call(a),c==C)return""+a;if(c==k)return a>-1/0&&a<1/0?""+a:"null";if(c==S)return T(""+a);if("object"==typeof a){for(M=s.length;M--;)if(s[M]===a)throw u();if(s.push(a),_=[],q=i,i+=o,c==w){for(N=0,M=a.length;N<M;N++)O=j(N,a,r,n,o,i,s),_.push(O===d?"null":O);D=_.length?o?"[\n"+i+_.join(",\n"+i)+"\n"+q+"]":"["+_.join(",")+"]":"[]"}else f(n||a,function(t){var e=j(t,a,r,n,o,i,s);e!==d&&_.push(T(t)+":"+(o?" ":"")+e)}),D=_.length?o?"{\n"+i+_.join(",\n"+i)+"\n"+q+"}":"{"+_.join(",")+"}":"{}";return s.pop(),D}};e.stringify=function(t,e,r){var n,o,i,a;if(s[typeof e]&&e)if((a=g.call(e))==m)o=e;else if(a==w){i={};for(var c,u=0,l=e.length;u<l;c=e[u++],a=g.call(c),(a==S||a==k)&&(i[c]=1));}if(r)if((a=g.call(r))==k){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else a==S&&(n=r.length<=10?r:r.slice(0,10));return j("",(c={},c[""]=t,c),o,i,n,"",[])}}if(!has("json-parse")){var N,M,q=n.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw N=M=null,a()},I=function(){for(var t,e,r,n,o,i=M,s=i.length;N<s;)switch(o=i.charCodeAt(N)){case 9:case 10:case 13:case 32:N++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=x?i.charAt(N):i[N],N++,t;case 34:for(t="@",N++;N<s;)if(o=i.charCodeAt(N),o<32)L();else if(92==o)switch(o=i.charCodeAt(++N)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[o],N++;break;case 117:for(e=++N,r=N+4;N<r;N++)o=i.charCodeAt(N),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||L();t+=q("0x"+i.slice(e,N));break;default:L()}else{if(34==o)break;for(o=i.charCodeAt(N),e=N;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++N);t+=i.slice(e,N)}if(34==i.charCodeAt(N))return N++,t;L();default:if(e=N,45==o&&(n=!0,o=i.charCodeAt(++N)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(N+1),o>=48&&o<=57)&&L(),n=!1;N<s&&(o=i.charCodeAt(N),o>=48&&o<=57);N++);if(46==i.charCodeAt(N)){for(r=++N;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==N&&L(),N=r}if(o=i.charCodeAt(N),101==o||69==o){for(o=i.charCodeAt(++N),43!=o&&45!=o||N++,r=N;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==N&&L(),N=r}return+i.slice(e,N)}if(n&&L(),"true"==i.slice(N,N+4))return N+=4,!0;if("false"==i.slice(N,N+5))return N+=5,!1;if("null"==i.slice(N,N+4))return N+=4,null;L()}return"$"},U=function(t){var e,r;if("$"==t&&L(),"string"==typeof t){if("@"==(x?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=I(),"]"!=t;r||(r=!0))r&&(","==t?(t=I(),"]"==t&&L()):L()),","==t&&L(),e.push(U(t));return e}if("{"==t){for(e={};t=I(),"}"!=t;r||(r=!0))r&&(","==t?(t=I(),"}"==t&&L()):L()),","!=t&&"string"==typeof t&&"@"==(x?t.charAt(0):t[0])&&":"==I()||L(),e[t.slice(1)]=U(I());return e}L()}return t},H=function(t,e,r){var n=J(t,e,r);n===d?delete t[e]:t[e]=n},J=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(g.call(o)==w)for(n=o.length;n--;)H(o,n,r);else f(o,function(t){H(o,t,r)});return r.call(t,e,o)};e.parse=function(t,e){var r,n;return N=0,M=""+t,r=U(I()),"$"!=I()&&L(),N=M=null,e&&g.call(e)==m?J((n={},n[""]=r,n),"",e):r}}}return e.runInContext=runInContext,e}var i=r(411),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof o&&o;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!i)runInContext(c,a);else{var l=c.JSON,p=c.JSON3,h=!1,f=runInContext(c,c.JSON3={noConflict:function(){return h||(h=!0,c.JSON=l,c.JSON3=p,l=p=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}i&&(n=function(){return f}.call(e,r,e,t),!(void 0!==n&&(t.exports=n)))}).call(this)}).call(e,r(410)(t),function(){return this}())},411:function(t,e){(function(e){t.exports=e}).call(e,{})},412:function(t,e){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}t.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function on(){r.off(t,on),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},on.fn=e,this.on(t,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},413:function(t,e,r){(function(t){var n=r(414),o=r(415);e.deconstructPacket=function(t){function _deconstructPacket(t){if(!t)return t;if(o(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}if(n(t)){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=_deconstructPacket(t[s]);return i}if("object"==typeof t&&!(t instanceof Date)){var i={};for(var a in t)i[a]=_deconstructPacket(t[a]);return i}return t}var e=[],r=t.data,i=t;return i.data=_deconstructPacket(r),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){function _reconstructPacket(t){if(t&&t._placeholder){var r=e[t.num];return r}if(n(t)){for(var o=0;o<t.length;o++)t[o]=_reconstructPacket(t[o]);return t}if(t&&"object"==typeof t){for(var i in t)t[i]=_reconstructPacket(t[i]);return t}return t}return t.data=_reconstructPacket(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,r){function _removeBlobs(e,a,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){i++;var u=new FileReader;u.onload=function(){c?c[a]=this.result:s=this.result,--i||r(s)},u.readAsArrayBuffer(e)}else if(n(e))for(var l=0;l<e.length;l++)_removeBlobs(e[l],l,e);else if(e&&"object"==typeof e&&!o(e))for(var p in e)_removeBlobs(e[p],p,e)}var i=0,s=e;_removeBlobs(s),i||r(s)}}).call(e,function(){return this}())},414:function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},415:function(t,e){(function(e){function isBuf(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=isBuf}).call(e,function(){return this}())},416:function(t,e,r){function Manager(t,e){return this instanceof Manager?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new Manager(t,e)}var n=r(417),o=r(447),i=r(448),s=r(405),a=r(450),c=r(451),u=r(402)("socket.io-client:manager"),l=r(445),p=r(452),h=Object.prototype.hasOwnProperty;t.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Manager.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},i(Manager.prototype),Manager.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=a(r,"open",function(){o.onopen(),t&&t()}),s=a(r,"error",function(e){if(u("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),i.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(s),this},Manager.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(t){this.decoder.add(t)},Manager.prototype.ondecoded=function(t){this.emit("packet",t)},Manager.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},Manager.prototype.socket=function(t,e){function onConnecting(){~l(n.connecting,r)||n.connecting.push(r)}var r=this.nsps[t];if(!r){r=new o(this,t,e),this.nsps[t]=r;var n=this;r.on("connecting",onConnecting),r.on("connect",function(){r.id=n.engine.id}),this.autoConnect&&onConnecting()}return r},Manager.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Manager.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Manager.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),
this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},Manager.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},417:function(t,e,r){t.exports=r(418)},418:function(t,e,r){t.exports=r(419),t.exports.parser=r(426)},419:function(t,e,r){(function(e){function Socket(t,r){if(!(this instanceof Socket))return new Socket(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=c(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=c(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n="object"==typeof e&&e;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function clone(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var n=r(420),o=r(435),i=r(439)("engine.io-client:socket"),s=r(445),a=r(426),c=r(401),u=r(446),l=r(436);t.exports=Socket,Socket.priorWebsocketSuccess=!1,o(Socket.prototype),Socket.protocol=a.protocol,Socket.Socket=Socket,Socket.Transport=r(425),Socket.transports=r(420),Socket.parser=r(426),Socket.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=clone(this.query);e.EIO=a.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new n[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},Socket.prototype.open=function(){var t;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},Socket.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},Socket.prototype.probe=function(t){function onTransportOpen(){if(n.onlyBinaryUpgrades){var o=!this.supportsBinary&&n.transport.supportsBinary;r=r||o}r||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(o){if(!r)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),n.upgrading=!0,n.emit("upgrading",e),!e)return;Socket.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){r||"closed"!==n.readyState&&(i("changing transport and sending upgrade packet"),cleanup(),n.setTransport(e),e.send([{type:"upgrade"}]),n.emit("upgrade",e),e=null,n.upgrading=!1,n.flush())})}else{i('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,n.emit("upgradeError",s)}}))}function freezeTransport(){r||(r=!0,cleanup(),e.close(),e=null)}function onerror(r){var o=new Error("probe error: "+r);o.transport=e.name,freezeTransport(),i('probe transport "%s" failed because of error: %s',t,r),n.emit("upgradeError",o)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),freezeTransport())}function cleanup(){e.removeListener("open",onTransportOpen),e.removeListener("error",onerror),e.removeListener("close",onTransportClose),n.removeListener("close",onclose),n.removeListener("upgrading",onupgrade)}i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),r=!1,n=this;Socket.priorWebsocketSuccess=!1,e.once("open",onTransportOpen),e.once("error",onerror),e.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),e.open()},Socket.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},Socket.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(u(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},Socket.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},Socket.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},Socket.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},Socket.prototype.close=function(){function close(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function cleanupAndClose(){t.removeListener("upgrade",cleanupAndClose),t.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){t.once("upgrade",cleanupAndClose),t.once("upgradeError",cleanupAndClose)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}return this},Socket.prototype.onError=function(t){i("socket error %j",t),Socket.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},Socket.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~s(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},420:function(t,e,r){(function(t){function polling(e){var r,s=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),s=e.hostname!==location.hostname||l!==e.port,a=e.secure!==u}if(e.xdomain=s,e.xscheme=a,r=new n(e),"open"in r&&!e.forceJSONP)return new o(e);if(!c)throw new Error("JSONP disabled");return new i(e)}var n=r(421),o=r(423),i=r(442),s=r(443);e.polling=polling,e.websocket=s}).call(e,function(){return this}())},421:function(t,e,r){(function(e){var n=r(422);t.exports=function(t){var r=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,function(){return this}())},422:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},423:function(t,e,r){(function(e){function empty(){}function XHR(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function Request(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function unloadHandler(){for(var t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}var n=r(421),o=r(424),i=r(435),s=r(437),a=r(439)("engine.io-client:polling-xhr");t.exports=XHR,t.exports.Request=Request,s(XHR,o),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Request(t)},XHR.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},XHR.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},i(Request.prototype),Request.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new n(t),o=this;try{a("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.extraHeaders[i])}}catch(t){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){o.onLoad()},r.onerror=function(){o.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?o.onLoad():setTimeout(function(){o.onError(r.status)},0))},a("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){o.onError(t)},0)}e.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},Request.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},Request.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,t)try{this.xhr.abort()}catch(t){}e.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var r=new Uint8Array(this.xhr.response),n=[],o=0,i=r.length;o<i;o++)n.push(r[o]);t=String.fromCharCode.apply(null,n)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},Request.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",unloadHandler):e.addEventListener&&e.addEventListener("beforeunload",unloadHandler,!1))}).call(e,function(){return this}())},424:function(t,e,r){function Polling(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),n.call(this,t)}var n=r(425),o=r(436),i=r(426),s=r(437),a=r(438),c=r(439)("engine.io-client:polling");t.exports=Polling;var u=function(){var t=r(421),e=new t({xdomain:!1});return null!=e.responseType}();s(Polling,n),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(t){function pause(){c("paused"),e.readyState="paused",t()}var e=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||pause()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||pause()}))}else pause()},Polling.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(t){var e=this;c("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};i.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),close()):(c("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},Polling.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},425:function(t,e,r){function Transport(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var n=r(426),o=r(435);t.exports=Transport,o(Transport.prototype),Transport.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},Transport.prototype.onPacket=function(t){this.emit("packet",t)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},426:function(t,e,r){(function(t){function encodeBase64Object(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function encodeArrayBuffer(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=h[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function encodeBlobAsArrayBuffer(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function encodeBlob(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(p)return encodeBlobAsArrayBuffer(t,r,n);var o=new Uint8Array(1);o[0]=h[t.type];var i=new y([o.buffer,t.data]);return n(i)}function tryDecode(t){try{t=c.decode(t)}catch(t){return!1}return t}function map(t,e,r){for(var n=new Array(t.length),o=a(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var n,o=r(427),i=r(428),s=r(430),a=r(431),c=r(432);t&&t.ArrayBuffer&&(n=r(433));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=u||l;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=o(h),d={type:"error",data:"parser error"},y=r(434);e.encodePacket=function(e,r,n,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof n&&(o=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&i instanceof ArrayBuffer)return encodeArrayBuffer(e,r,o);if(y&&i instanceof t.Blob)return encodeBlob(e,r,o);if(i&&i.base64)return encodeBase64Object(e,o);var s=h[e.type];return void 0!==e.data&&(s+=n?c.encode(String(e.data)):String(e.data)),o(""+s)},e.encodeBase64Packet=function(r,n){var o="b"+e.packets[r.type];if(y&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return d;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=tryDecode(t),t===!1))return d;var o=t.charAt(0);return Number(o)==o&&f[o]?t.length>1?{type:f[o],data:t.substring(1)}:{type:f[o]}:d}var i=new Uint8Array(t),o=i[0],a=s(t,1);return y&&"blob"===r&&(a=new y([a])),{type:f[o],data:a}},e.decodeBase64Packet=function(t,e){var r=f[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=n.decode(t.substr(1));return"blob"===e&&y&&(o=new y([o])),{type:r,data:o}},e.encodePayload=function(t,r,n){function setLengthHeader(t){return t.length+":"+t}function encodeOne(t,n){e.encodePacket(t,!!o&&r,!0,function(t){n(null,setLengthHeader(t))})}"function"==typeof r&&(n=r,r=null);var o=i(t);return r&&o?y&&!p?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void map(t,encodeOne,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""==t)return n(d,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(i=Number(a)))return n(d,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(d,0,1);if(s.length){if(o=e.decodePacket(s,r,!0),d.type==o.type&&d.data==o.data)return n(d,0,1);var p=n(o,c+i,u);if(!1===p)return}c+=i,a=""}}return""!=a?n(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function encodeOne(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void map(t,encodeOne,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function encodeOne(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,y){var c=new y([e.buffer,a.buffer,t]);r(null,c)}})}map(t,encodeOne,function(t,e){return r(new y(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,i=[],a=!1;o.byteLength>0;){for(var c=new Uint8Array(o),u=0===c[0],l="",p=1;255!=c[p];p++){if(l.length>310){a=!0;break}l+=c[p]}if(a)return n(d,0,1);o=s(o,2+l.length),l=parseInt(l);var h=s(o,0,l);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(var p=0;p<f.length;p++)h+=String.fromCharCode(f[p])}i.push(h),o=s(o,l)}var y=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,y)})}}).call(e,function(){return this}())},427:function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},428:function(t,e,r){(function(e){function hasBinary(t){function _hasBinary(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(n(t)){for(var r=0;r<t.length;r++)if(_hasBinary(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&_hasBinary(t[o]))return!0}return!1}return _hasBinary(t)}var n=r(429);t.exports=hasBinary}).call(e,function(){return this}())},429:414,430:function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},431:function(t,e){function after(t,e,r){function proxy(t,o){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,t?(n=!0,e(t),e=r):0!==proxy.count||n||e(null,o)}var n=!1;return r=r||noop,proxy.count=t,0===t?e():proxy}function noop(){}t.exports=after},432:function(t,e,r){var n;(function(t,o){!function(i){function ucs2decode(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function ucs2encode(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=p(e>>>10&1023|55296),e=56320|1023&e),o+=p(e);return o}function createByte(t,e){return p(t>>e&63|128)}function encodeCodePoint(t){if(0==(4294967168&t))return p(t);var e="";return 0==(4294965248&t)?e=p(t>>6&31|192):0==(4294901760&t)?(e=p(t>>12&15|224),e+=createByte(t,6)):0==(4292870144&t)&&(e=p(t>>18&7|240),e+=createByte(t,12),e+=createByte(t,6)),e+=p(63&t|128)}function wtf8encode(t){for(var e,r=ucs2decode(t),n=r.length,o=-1,i="";++o<n;)e=r[o],i+=encodeCodePoint(e);return i}function readContinuationByte(){if(l>=u)throw Error("Invalid byte index");var t=255&c[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function decodeSymbol(){var t,e,r,n,o;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(t=255&c[l],l++,0==(128&t))return t;if(192==(224&t)){var e=readContinuationByte();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=readContinuationByte(),r=readContinuationByte(),o=(15&t)<<12|e<<6|r,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=readContinuationByte(),r=readContinuationByte(),n=readContinuationByte(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function wtf8decode(t){c=ucs2decode(t),u=c.length,l=0;for(var e,r=[];(e=decodeSymbol())!==!1;)r.push(e);return ucs2encode(r)}var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports==s&&t,"object"==typeof o&&o);a.global!==a&&a.window!==a||(i=a);var c,u,l,p=String.fromCharCode,h={version:"1.0.0",encode:wtf8encode,decode:wtf8decode};n=function(){return h}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(410)(t),function(){return this}())},433:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,n,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),p=new Uint8Array(l);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],o=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],p[u++]=n<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return l}}()},434:function(t,e){(function(e){function mapArrayBufferViews(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function BlobBuilderConstructor(t,e){e=e||{};var n=new r;mapArrayBufferViews(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function BlobConstructor(t,e){return mapArrayBufferViews(t),new Blob(t,e||{})}var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,n=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),o=n&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;t.exports=function(){return n?o?e.Blob:BlobConstructor:i?BlobBuilderConstructor:void 0}()}).call(e,function(){return this}())},435:function(t,e,r){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}t.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function on(){this.off(t,on),e.apply(this,arguments)}return on.fn=e,this.on(t,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},436:function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),
e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},437:function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},438:function(t,e){"use strict";function encode(t){var e="";do e=n[t%o]+e,t=Math.floor(t/o);while(t>0);return e}function decode(t){var e=0;for(a=0;a<t.length;a++)e=e*o+i[t.charAt(a)];return e}function yeast(){var t=encode(+new Date);return t!==r?(s=0,r=t):t+"."+encode(s++)}for(var r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,i={},s=0,a=0;a<o;a++)i[n[a]]=a;yeast.encode=encode,yeast.decode=decode,t.exports=yeast},439:[972,440],440:[973,441],441:404,442:function(t,e,r){(function(e){function empty(){}function JSONPPolling(t){n.call(this,t),this.query=this.query||{},i||(e.___eio||(e.___eio=[]),i=e.___eio),this.index=i.length;var r=this;i.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=empty)},!1)}var n=r(424),o=r(437);t.exports=JSONPPolling;var i,s=/\n/g,a=/\\n/g;o(JSONPPolling,n),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},JSONPPolling.prototype.doWrite=function(t,e){function complete(){initIframe(),e()}function initIframe(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){n=document.createElement("iframe"),n.name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}var r=this;if(!this.form){var n,o=document.createElement("form"),i=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}this.form.action=this.uri(),initIframe(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(e,function(){return this}())},443:function(t,e,r){(function(e){function WS(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.usingBrowserWebSocket||(p=n),o.call(this,t)}var n,o=r(425),i=r(426),s=r(436),a=r(437),c=r(438),u=r(439)("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{n=r(444)}catch(t){}var p=l;p||"undefined"!=typeof window||(p=n),t.exports=WS,a(WS,o),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new p(t):new p(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},WS.prototype.write=function(t){function done(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var n=t.length,o=0,s=n;o<s;o++)!function(t){i.encodePacket(t,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),r.perMessageDeflate){var s="string"==typeof o?e.Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(i.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,i)}catch(t){u("websocket closed before onclose event")}--n||done()})}(t[o])},WS.prototype.onClose=function(){o.prototype.onClose.call(this)},WS.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},WS.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},WS.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===WS.prototype.name)}}).call(e,function(){return this}())},444:function(t,e){},445:function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},446:function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},447:function(t,e,r){function Socket(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var n=r(405),o=r(448),i=r(449),s=r(450),a=r(451),c=r(402)("socket.io-client:socket"),u=r(428);t.exports=e=Socket;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},Socket.prototype.emit=function(t){if(l.hasOwnProperty(t))return p.apply(this,arguments),this;var e=i(arguments),r=n.EVENT;u(e)&&(r=n.BINARY_EVENT);var o={type:r,data:e};return o.options={},o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},Socket.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},Socket.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:n.CONNECT,query:this.query}):this.packet({type:n.CONNECT}))},Socket.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},Socket.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(t);break;case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:this.onack(t);break;case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},Socket.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},Socket.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var o=i(arguments);c("sending ack %j",o);var s=u(o)?n.BINARY_ACK:n.ACK;e.packet({type:s,id:t,data:o})}}},Socket.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},448:435,449:function(t,e){function toArray(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=toArray},450:function(t,e){function on(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=on},451:function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},452:function(t,e){function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=Backoff,Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(t){this.ms=t},Backoff.prototype.setMax=function(t){this.max=t},Backoff.prototype.setJitter=function(t){this.jitter=t}},453:function(t,e){t.exports='<section id="mu-contact">\r\n\t<div class="container">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-md-12">\r\n\t\t\t\t<div class="mu-contact-area">\r\n\t\t\t\t\t<!-- start title -->\r\n                    <div class="page-header">\r\n\t\t\t\t\t\t<h1>View Survey</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- end title -->\r\n\t\t\t\t\t<!-- start contact content -->\r\n\t\t\t\t\t<div class="mu-contact-content">\r\n\t\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t\t<div class="col-md-12">\r\n\r\n\t\t\t\t\t\t\t\t<!--------------------------------------------------------------->\r\n\t\t\t\t\t\t\t\t<div class="well well-lg">\r\n\t\t\t<strong>Question</strong>\r\n\t\t\t<br>{{poll.question}}\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="!poll.userVoted">\r\n\t\t\t<p class="lead">Please select one of the following options:</p>\r\n\r\n\t\t\t<form>\r\n\t\t\t\t<div *ngFor="let choice of poll.choices;let i = index;" class="radio">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input type="radio" name="choice" value="{{choice._id}}" [(ngModel)]="poll.userVote"> {{choice.text}}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="col-xs-6">\r\n\t\t\t\t\t\t<a [routerLink]="[\'/survey\',\'list\']" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span>Back to Survey List</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="col-xs-6">\r\n\t\t\t\t\t\t<button class="btn btn-primary pull-right" type="button" (click)="onVote()">Vote &raquo;</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="!!poll.userVoted">\r\n\t\t\t\r\n\t\t\t<table class="result-table">\r\n\t\t\t\t<tr *ngFor="let choice of poll.choices">\r\n\t\t\t\t\t<td>{{choice.text}}</td>\r\n\t\t\t\t\t<td class="col-md-12">\r\n\t\t\t\t\t\t{{choice.votes.length}}\r\n\t\t\t\t\t\t<progress [value]="choice.votes.length" [attr.max]="poll.totalVotes"></progress>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\r\n\t\t\t<p>\r\n\t\t\t\t<em>\r\n\t\t\t\t\t{{poll.totalVotes}} votes counted so far.\r\n\t\t\t\t</em>\r\n\t\t\t</p>\r\n\r\n\r\n\t\t\t<div class="col-xs-6">\r\n\t\t\t\t\t<a [routerLink]="[\'/survey\',\'list\']" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Poll List</a>\r\n\t\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t\t\t\t\t\t\t<!---------------------------------------------------------------------------->\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- end contact content -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</section>'},454:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=r(49),a=r(396),c=function(){function NewSurveyComponent(t,e){this.surveyHttpService=t,this.router=e,this.survey={question:"",choices:[{text:""},{text:""}]}}return NewSurveyComponent.prototype.onSubmit=function(){var t=this;console.log(this.survey),this.surveyHttpService.newSurvey(this.survey).subscribe(function(e){console.log(e),t.router.navigate(["/survey/list"])},function(t){console.log(t)})},NewSurveyComponent.prototype.addChoice=function(){console.log("Adding choice"),this.survey.choices.push({text:""})},NewSurveyComponent.prototype.removeChoice=function(){console.log("Removing choice"),this.survey.choices.length>2&&this.survey.choices.pop()},NewSurveyComponent}();c=n([i.Component({template:r(455)}),o("design:paramtypes",[a.SurveyHttpService,s.Router])],c),e.NewSurveyComponent=c},455:function(t,e){t.exports='<section>\r\n\t<div class="container">\r\n\t\t<div class="page-header">\r\n\t\t\t<h1>Create New Survey</h1>\r\n\t\t</div>\r\n\r\n\t\t<form (ngSubmit)="onSubmit()">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="pollQuestion">Survey Question</label>\r\n\t\t\t\t<input type="text" class="form-control" placeholder="Enter poll question" [(ngModel)]="survey.question" name="question" required="required"/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label>Choices</label>\r\n\t\t\t\t<div *ngFor="let choice of survey.choices;let i = index">\r\n\t\t\t\t\t<input type="text" [(ngModel)]="choice.text" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Enter choice {{i+1}}" required="required" /><br>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-xs-12">\r\n\t\t\t\t\t<button type="button" class="btn btn-default" (click)="addChoice()"><span class="glyphicon glyphicon-plus"></span>Add Choice</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-xs-12">\r\n\t\t\t\t\t<button type="button" class="btn btn-default" (click)="removeChoice()" [disabled]="!(survey.choices.length-2)>0"><span class="glyphicon glyphicon-minus"></span>Remove Last Choice</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr>\r\n\r\n\t\t\t<div class="row">\r\n\t\t\t\t<div class="col-xs-6">\r\n\t\t\t\t\t<a [routerLink]="[\'/survey\',\'list\']" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Poll List</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-xs-6">\r\n\t\t\t\t\t<button class="btn btn-primary pull-right" type="submit">Create Survey</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\t</div>\r\n</section>\r\n'},456:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=r(3),s=r(49),a=r(396),c=r(397),u=function(){function ListComponent(t,e,r){this.surveyHttpService=t,this.surveyService=e,this.router=r,this.surveyList={}}return ListComponent.prototype.ngOnInit=function(){var t=this;this.surveyHttpService.getSurveyList().subscribe(function(e){console.log(e),t.surveyList=e},function(t){console.log(t)})},ListComponent.prototype.surveyItem=function(t){var e=this;this.surveyHttpService.getSurveyItem(t).subscribe(function(t){console.log(t),e.surveyService.survey=t,e.router.navigate(["/survey/item"])},function(t){console.log(t)})},ListComponent}();u=n([i.Component({template:r(457)}),o("design:paramtypes",[a.SurveyHttpService,c.SurveyService,s.Router])],u),e.ListComponent=u},457:function(t,e){t.exports='<section id="mu-contact">\r\n\t<div class="container">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-md-12">\r\n\t\t\t\t<div class="mu-contact-area">\r\n\t\t\t\t\t<!-- start title -->\r\n\t\t\t\t\t<div class="mu-title">\r\n\t\t\t\t\t\t<h2>Survey List</h2>\r\n\t\t\t\t\t\t<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maiores ut laboriosam corporis doloribus, officia, accusamus illo nam tempore totam alias!</p>-->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- end title -->\r\n\t\t\t\t\t<!-- start contact content -->\r\n\t\t\t\t\t<div class="mu-contact-content">\r\n\t\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t\t<div class="col-md-12">\r\n\r\n\t\t\t\t\t\t\t\t<!--------------------------------------------------------------->\r\n\t\t\t\t\t\t\t\t<div class="row">\r\n\t\t\t<div class="col-xs-5">\r\n\t\t\t\t<a [routerLink]="[\'/survey\',\'newSurvey\']" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span>New Poll</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-xs-7">\r\n<!--\t\t\t\t<input type="text" class="form-control" ng-model="query" placeholder="Search for a poll">-->\r\n\t\t\t\t<input type="text" class="form-control" placeholder="Search for a poll">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-xs-12"><hr></div>\r\n\t\t</div>\r\n\t\t<div class="row">\r\n\t\t\t<ul *ngIf="surveyList.length<=0">\r\n\t\t\t\t<li><em>No polls in databases. Would you like to <a [routerLink]="[\'/survey\',\'newSurvey\']">create one</a>?</em></li>\r\n\t\t\t</ul>\r\n\t\t\t<ol *ngIf="!surveyList.length<=0">\r\n\t\t\t\t<li *ngFor="let survey of surveyList; let i = index">\r\n\t\t\t\t\t<a (click)="surveyItem(survey._id)">{{survey.question}}</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</div>\r\n\t\t\t\t\t\t\t\t<!---------------------------------------------------------------------------->\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- end contact content -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</section>\r\n\r\n\r\n\r\n\r\n<!--\r\n<a [routerLink]="[\'/survey\',\'newSurvey\']">\r\n\t<button class="btn btn-primary">New Survey</button>\r\n</a>\r\n<a [routerLink]="[\'/survey\',\'item\']">\r\n\t<button class="btn btn-primary">Survey Items</button>\r\n</a>\r\n<h2>Survey List</h2>\r\n\r\n<input type="search" placeholder="Type Your Keyword(s) & Hit Enter">\r\n\r\n\r\n<a [routerLink]="[\'/survey\',\'newSurvey\']" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> New Poll</a>\r\n\r\n<input type="text" class="form-control" [(ngModel)]="query" placeholder="Search for a poll">\r\n-->\r\n\r\n'},458:function(t,e,r){"use strict";var n=r(49),o=r(395),i=r(454),s=r(456),a=[{path:"item",component:o.ItemComponent},{path:"newSurvey",component:i.NewSurveyComponent},{path:"list",component:s.ListComponent}];e.routing=n.RouterModule.forChild(a)},972:function(t,e,r,n){(function(o){function useColors(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,n),t}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function load(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof o&&"env"in o)return{ENV:"production"}.DEBUG}function localstorage(){try{return window.localStorage}catch(t){}}e=t.exports=r(n),e.log=log,e.formatArgs=formatArgs,e.save=save,e.load=load,e.useColors=useColors,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(load())}).call(e,r(324))},973:function(t,e,r,n){function selectColor(){return e.colors[i++%e.colors.length]}function debug(t){function disabled(){}function enabled(){var t=enabled,r=+new Date,n=r-(o||r);t.diff=n,t.prev=o,t.curr=r,o=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=selectColor());for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;a++;var o=e.formatters[n];if("function"==typeof o){var s=i[a];r=o.call(t,s),i.splice(a,1),a--}return r}),i=e.formatArgs.apply(t,i);var c=enabled.log||e.log||console.log.bind(console);c.apply(t,i)}disabled.enabled=!1,enabled.enabled=!0;var r=e.enabled(t)?enabled:disabled;return r.namespace=t,r}function enable(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function disable(){e.enable("")}function enabled(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function coerce(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=debug.debug=debug,e.coerce=coerce,e.disable=disable,e.enable=enable,e.enabled=enabled,e.humanize=r(n),e.names=[],e.skips=[],e.formatters={};var o,i=0}});
//# sourceMappingURL=3.a29b2823b56c45ce76e5.chunk.js.map